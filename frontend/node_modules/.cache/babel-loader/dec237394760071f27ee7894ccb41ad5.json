{"ast":null,"code":"import _regeneratorRuntime from\"/Users/ryanmarr/Documents/Quantitative-Analysis-Site-ws/Quantitative_Analysis_Site/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/ryanmarr/Documents/Quantitative-Analysis-Site-ws/Quantitative_Analysis_Site/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{React}from\"react\";// import CSRFToken from \"../misc/csrftoken\";\nimport Cookies from'js-cookie';import{useNavigate}from\"react-router-dom\";import Button from'react-bootstrap/Button';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function MatadorSignUp(){var navigate=useNavigate();var headers=new Headers({\"X-CSRFToken\":Cookies.get('csrftoken')});var handleSignup=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var formData,res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:// Prevent the form from doing the default html garbage\nevent.preventDefault();// Get the form data and send info to server.\nformData=new FormData(event.target);_context.next=4;return fetch(\"api/signupUser\",{method:\"POST\",headers:headers,body:formData});case 4:res=_context.sent;console.log(\"signup response >>>\",res);if(res){alert(\"An email verification link has been sent to your email.\");navigate(\"/signin\",{replace:true});}else{alert(\"Sign up didn't work\");navigate(\"/landing\",{replace:true});}case 7:case\"end\":return _context.stop();}}},_callee);}));return function handleSignup(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{class:\"authform\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Matador\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Create an Account\"}),/*#__PURE__*/_jsxs(\"form\",{method:\"post\",action:\"api/signupUser\",onSubmit:handleSignup,children:[/*#__PURE__*/_jsxs(\"div\",{class:\"form-group inputWrapper\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"fname\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",{class:\"form-control\",id:\"fname\",name:\"fname\",type:\"text\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group inputWrapper\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"lname\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",{class:\"form-control\",id:\"lname\",name:\"lname\",type:\"text\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group inputWrapper\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"username\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{class:\"form-control\",id:\"username\",name:\"username\",type:\"text\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group inputWrapper\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"email\",children:\"E-mail\"}),/*#__PURE__*/_jsx(\"input\",{class:\"form-control\",id:\"email\",name:\"email\",type:\"email\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group inputWrapper\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"password1\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{class:\"form-control\",id:\"password1\",name:\"password1\",type:\"password\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group inputWrapper\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"password2\",children:\"Confirm password\"}),/*#__PURE__*/_jsx(\"input\",{class:\"form-control\",id:\"password2\",name:\"password2\",type:\"password\",required:true})]}),/*#__PURE__*/_jsx(Button,{style:{\"margin-top\":\"10px\"},type:\"submit\",variant:\"outline-dark\",children:\"Sign Up\"})]})]});}export default MatadorSignUp;","map":{"version":3,"names":["React","Cookies","useNavigate","Button","MatadorSignUp","navigate","headers","Headers","get","handleSignup","event","preventDefault","formData","FormData","target","fetch","method","body","res","console","log","alert","replace"],"sources":["/Users/ryanmarr/Documents/Quantitative-Analysis-Site-ws/Quantitative_Analysis_Site/frontend/src/new_components/auth/signup.js"],"sourcesContent":["import { React } from \"react\";\n// import CSRFToken from \"../misc/csrftoken\";\nimport Cookies from 'js-cookie';\nimport { useNavigate } from \"react-router-dom\";\n\nimport Button from 'react-bootstrap/Button';\n\nfunction MatadorSignUp() {\n\n    let navigate = useNavigate();\n\n    const headers = new Headers({\n      \"X-CSRFToken\": Cookies.get('csrftoken')\n    });\n  \n  \n    const handleSignup=async(event)=>{\n      // Prevent the form from doing the default html garbage\n      event.preventDefault();\n      // Get the form data and send info to server.\n      const formData = new FormData(event.target);\n      const res = await fetch(\"api/signupUser\",\n      {\n        method: \"POST\",\n        headers: headers,\n        body: formData\n      })\n      \n      console.log(\"signup response >>>\", res);\n\n      if (res) {\n        alert(\"An email verification link has been sent to your email.\");\n        navigate(\"/signin\", { replace: true });\n    }\n\n      else {\n        alert(\"Sign up didn't work\");\n        navigate(\"/landing\", { replace: true });\n\n      }\n\n    }\n\n  return (\n    <div class='authform'>\n          <h1>Matador</h1>\n          <p>Create an Account</p>\n          <form method=\"post\" action=\"api/signupUser\" onSubmit={handleSignup}>\n            <div class=\"form-group inputWrapper\">\n              <label for=\"fname\">First Name</label>\n              <input class=\"form-control\" id=\"fname\" name=\"fname\" type=\"text\" required />\n            </div>\n\n            <div class=\"form-group inputWrapper\">\n              <label for=\"lname\">Last Name</label>\n              <input class=\"form-control\" id=\"lname\" name=\"lname\" type=\"text\" required />\n            </div>\n\n            <div class=\"form-group inputWrapper\">\n              <label for=\"username\">Username</label>\n              <input class=\"form-control\" id=\"username\" name=\"username\" type=\"text\" required />\n            </div>\n\n            <div class=\"form-group inputWrapper\">\n              <label for=\"email\">E-mail</label>\n              <input class=\"form-control\" id=\"email\" name=\"email\" type=\"email\" required />\n            </div>\n\n            <div class=\"form-group inputWrapper\">\n              <label for=\"password1\">Password</label>\n              <input class=\"form-control\" id=\"password1\" name=\"password1\" type=\"password\" required />\n            </div>\n\n            <div class=\"form-group inputWrapper\">\n              <label for=\"password2\">Confirm password</label>\n              <input class=\"form-control\" id=\"password2\" name=\"password2\" type=\"password\" required />\n            </div>\n\n            <Button style={{\"margin-top\": \"10px\"}} type=\"submit\" variant=\"outline-dark\">\n              Sign Up\n            </Button>\n          </form>\n        </div>\n  );\n}\n\nexport default MatadorSignUp;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}