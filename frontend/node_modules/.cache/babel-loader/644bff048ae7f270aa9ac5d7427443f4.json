{"ast":null,"code":"import _regeneratorRuntime from\"/Users/ryanmarr/Documents/Quantitative-Analysis-Site-ws/Quantitative_Analysis_Site/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/ryanmarr/Documents/Quantitative-Analysis-Site-ws/Quantitative_Analysis_Site/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/ryanmarr/Documents/Quantitative-Analysis-Site-ws/Quantitative_Analysis_Site/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useCallback,useState,useEffect}from\"react\";import Cookies from'js-cookie';import{jsx as _jsx}from\"react/jsx-runtime\";var FundingInfo=function FundingInfo(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),text=_useState2[0],setText=_useState2[1];useEffect(function(){var getInfo=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var headers,response,_yield$response$json,last_equity,info;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:headers=new Headers({\"X-CSRFToken\":Cookies.get('csrftoken')});_context.next=3;return fetch('api/funding_info',{method:\"GET\",credentials:'include',headers:headers});case 3:response=_context.sent;_context.next=6;return response.json();case 6:_yield$response$json=_context.sent;last_equity=_yield$response$json.last_equity;info=\"Current funding: $\"+last_equity;setText(info);case 10:case\"end\":return _context.stop();}}},_callee);}));return function getInfo(){return _ref.apply(this,arguments);};}();getInfo();},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"ui container\",style:{margin:\"10px\"},children:text});};export default FundingInfo;","map":{"version":3,"names":["React","useCallback","useState","useEffect","Cookies","FundingInfo","text","setText","getInfo","headers","Headers","get","fetch","method","credentials","response","json","last_equity","info","margin"],"sources":["/Users/ryanmarr/Documents/Quantitative-Analysis-Site-ws/Quantitative_Analysis_Site/frontend/src/new_components/transfer/FundingInfo.js"],"sourcesContent":["import React, { useCallback, useState, useEffect } from \"react\";\nimport Cookies from 'js-cookie';\n\nconst FundingInfo = () => {\n\n    const [text, setText] = useState(\"\");\n\n    useEffect(()=>{\n        const getInfo = async () => {\n            const headers = new Headers({\n                \"X-CSRFToken\": Cookies.get('csrftoken')\n            });\n            const response = await fetch('api/funding_info',\n                {\n                    method: \"GET\", \n                    credentials: 'include',\n                    headers: headers,\n                });\n            const {last_equity} =  await response.json()\n            const info = \"Current funding: $\" + last_equity\n            setText(info)\n        }\n        getInfo()\n    }, [])\n\n    return (\n        <div className=\"ui container\" style={{ margin: \"10px\" }}>\n        {text}\n        </div>\n    )\n};\n\nexport default FundingInfo;\n"],"mappings":"miBAAA,MAAOA,MAAP,EAAgBC,WAAhB,CAA6BC,QAA7B,CAAuCC,SAAvC,KAAwD,OAAxD,CACA,MAAOC,QAAP,KAAoB,WAApB,C,2CAEA,GAAMC,YAAW,CAAG,QAAdA,YAAc,EAAM,CAEtB,cAAwBH,QAAQ,CAAC,EAAD,CAAhC,wCAAOI,IAAP,eAAaC,OAAb,eAEAJ,SAAS,CAAC,UAAI,CACV,GAAMK,QAAO,4FAAG,gMACNC,OADM,CACI,GAAIC,QAAJ,CAAY,CACxB,cAAeN,OAAO,CAACO,GAAR,CAAY,WAAZ,CADS,CAAZ,CADJ,uBAIWC,MAAK,CAAC,kBAAD,CACxB,CACIC,MAAM,CAAE,KADZ,CAEIC,WAAW,CAAE,SAFjB,CAGIL,OAAO,CAAEA,OAHb,CADwB,CAJhB,QAINM,QAJM,qCAUiBA,SAAQ,CAACC,IAAT,EAVjB,2CAULC,WAVK,sBAULA,WAVK,CAWNC,IAXM,CAWC,qBAAuBD,WAXxB,CAYZV,OAAO,CAACW,IAAD,CAAP,CAZY,uDAAH,kBAAPV,QAAO,0CAAb,CAcAA,OAAO,GACV,CAhBQ,CAgBN,EAhBM,CAAT,CAkBA,mBACI,YAAK,SAAS,CAAC,cAAf,CAA8B,KAAK,CAAE,CAAEW,MAAM,CAAE,MAAV,CAArC,UACCb,IADD,EADJ,CAKH,CA3BD,CA6BA,cAAeD,YAAf"},"metadata":{},"sourceType":"module"}