{"ast":null,"code":"import _regeneratorRuntime from\"/home/ubuntu/Quantitative_Analysis_Site/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/ubuntu/Quantitative_Analysis_Site/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/ubuntu/Quantitative_Analysis_Site/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{createContext,useContext,useMemo}from\"react\";import{useNavigate}from\"react-router-dom\";import{useLocalStorage}from\"./useLocalStorage\";import{jsx as _jsx}from\"react/jsx-runtime\";var AuthContext=/*#__PURE__*/createContext();export var AuthProvider=function AuthProvider(_ref){var children=_ref.children;var _useLocalStorage=useLocalStorage(\"user\",null),_useLocalStorage2=_slicedToArray(_useLocalStorage,2),user=_useLocalStorage2[0],setUser=_useLocalStorage2[1];var navigate=useNavigate();// call this function when you want to authenticate the user\nvar signinFrontend=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(data){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setUser(data);navigate(\"/console\");//  Change this if deploy is not the main page they go to.\ncase 2:case\"end\":return _context.stop();}}},_callee);}));return function signinFrontend(_x){return _ref2.apply(this,arguments);};}();// call this function to sign out logged in user\nvar signoutFrontend=function signoutFrontend(){setUser(null);navigate(\"/\",{replace:true});};var value=useMemo(function(){return{user:user,signinFrontend:signinFrontend,signoutFrontend:signoutFrontend};},[user]);return/*#__PURE__*/_jsx(AuthContext.Provider,{value:value,children:children});};export var useAuth=function useAuth(){return useContext(AuthContext);};","map":{"version":3,"names":["createContext","useContext","useMemo","useNavigate","useLocalStorage","AuthContext","AuthProvider","children","user","setUser","navigate","signinFrontend","data","signoutFrontend","replace","value","useAuth"],"sources":["/home/ubuntu/Quantitative_Analysis_Site/frontend/src/components/auth/useAuth.js"],"sourcesContent":["import { createContext, useContext, useMemo } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useLocalStorage } from \"./useLocalStorage\";\nconst AuthContext = createContext();\n\nexport const AuthProvider = ({ children }) => {\n  const [user, setUser] = useLocalStorage(\"user\", null);\n  const navigate = useNavigate();\n\n  // call this function when you want to authenticate the user\n  const signinFrontend = async (data) => {\n    setUser(data);\n    navigate(\"/console\"); //  Change this if deploy is not the main page they go to.\n  };\n\n  // call this function to sign out logged in user\n  const signoutFrontend = () => {\n    setUser(null);\n    navigate(\"/\", { replace: true });\n  };\n\n  const value = useMemo(\n    () => ({\n      user,\n      signinFrontend,\n      signoutFrontend\n    }),\n    [user]\n  );\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\n};\n\nexport const useAuth = () => {\n  return useContext(AuthContext);\n};\n"],"mappings":"kaAAA,OAASA,aAAT,CAAwBC,UAAxB,CAAoCC,OAApC,KAAmD,OAAnD,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,OAASC,eAAT,KAAgC,mBAAhC,C,2CACA,GAAMC,YAAW,cAAGL,aAAa,EAAjC,CAEA,MAAO,IAAMM,aAAY,CAAG,QAAfA,aAAe,MAAkB,IAAfC,SAAe,MAAfA,QAAe,CAC5C,qBAAwBH,eAAe,CAAC,MAAD,CAAS,IAAT,CAAvC,sDAAOI,IAAP,sBAAaC,OAAb,sBACA,GAAMC,SAAQ,CAAGP,WAAW,EAA5B,CAEA;AACA,GAAMQ,eAAc,6FAAG,iBAAOC,IAAP,oHACrBH,OAAO,CAACG,IAAD,CAAP,CACAF,QAAQ,CAAC,UAAD,CAAR,CAAsB;AAFD,sDAAH,kBAAdC,eAAc,6CAApB,CAKA;AACA,GAAME,gBAAe,CAAG,QAAlBA,gBAAkB,EAAM,CAC5BJ,OAAO,CAAC,IAAD,CAAP,CACAC,QAAQ,CAAC,GAAD,CAAM,CAAEI,OAAO,CAAE,IAAX,CAAN,CAAR,CACD,CAHD,CAKA,GAAMC,MAAK,CAAGb,OAAO,CACnB,iBAAO,CACLM,IAAI,CAAJA,IADK,CAELG,cAAc,CAAdA,cAFK,CAGLE,eAAe,CAAfA,eAHK,CAAP,EADmB,CAMnB,CAACL,IAAD,CANmB,CAArB,CAQA,mBAAO,KAAC,WAAD,CAAa,QAAb,EAAsB,KAAK,CAAEO,KAA7B,UAAqCR,QAArC,EAAP,CACD,CAzBM,CA2BP,MAAO,IAAMS,QAAO,CAAG,QAAVA,QAAU,EAAM,CAC3B,MAAOf,WAAU,CAACI,WAAD,CAAjB,CACD,CAFM"},"metadata":{},"sourceType":"module"}